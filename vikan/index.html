<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>ViKan</title>
    <meta name="description" content="this is a presentation for hackthon activity of vikan prototype." />
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />
    <link href="bower_components/impress.js/css/impress-demo.css" rel="stylesheet" />
    <link href="css/impressConsole.css" rel="stylesheet" />
    <link href="css/main.css" rel="stylesheet" />
    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />
    <style type="text/css">
    div.bar {
        display: inline-block;
        width: 70px;
        height: 300px;
        background-color: teal;
        margin-right: 15px;
    }
    
    .poll-row {
        padding-left: 40px;
    }
    </style>
</head>

<body>
    <div id="impress" class="steps">
    </div>
    <script src="bower_components/jquery/jquery.js"></script>
    <script src="bower_components/handlebars/handlebars.js"></script>
    <script src="bower_components/impress.js/js/impress.js"></script>
    <script type="text/javascript" src="bower_components/d3/d3.js"></script>
    <script src="js/impressConsole.js"></script>
    <script src="js/main.js"></script>
    <script id="step-template" type="x-handlebars-template">
        <div id="{{id}}" class="{{class}}" {{#step data}}{{uri}}{{/step}}>{{{file}}}</div>
    </script>
    <script>
    // First, get sorted slide list
    window.addEventListener('impress:stepenter', function(something) {
        var src = something.srcElement.id;
        var target = something.target.id;
        console.log("stepenter " + src + " " + target);
        var options = [{
            "option": 1,
            "heading": "Hate it"
        }, {
            "option": 2,
            "heading": "Don't care"
        }, {
            "option": 3,
            "heading": "Can try"
        }, {
            "option": 4,
            "heading": "Wanna try"
        }, {
            "option": 5,
            "heading": "Love it"
        }, {
            "option": 6,
            "heading": "Already expert",
            "text": "you should shutup"
        }];

        if (src === 'question') {
            // not stable yet
            // purgeQuestion();
            // publishQuestion(options);
        }
        if (src === 'result') {
            fetchResult(options);
        }
    });

    $.getJSON('steps/list.json', function(data) {
        // Append ordered slides
        appendSlides(data);
        impress().init();
        impressConsole().init();
    });
    </script>
</body>

</html>
